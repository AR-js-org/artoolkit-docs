Upgrading to ARToolKit v5.0
---------------------------

There have been changes to some functions' API to accommodate new
functionality.

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Platform      Function with changed API                                                                                                                                                   Action to take                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Explanation
  ------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                ar2Handle                                                                                                                                                                   Add AR2_TRACKING_DEFAULT_THREAD_NUM as third parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            NFT texture tracking is now multi-threaded. The number of threads to spawn is specified explicitly, or will be calculated automatically based on the number of CPU cores by specifying AR2_TRACKING_DEFAULT_THREAD_NUM.

                arCreateHandle, ar2CreateHandle, kpmCreatHandle                                                                                                                             Pass a pointer to an ARParamLT structure instead of a pointer to an ARParam structure. The ARParamLT\* may be created directly from the ARParam with this code: <c> ARParam cparam; // Load from file etc. ARParamLT \*cparamLT = arParamLTCreate(&cparam, AR_PARAM_LT_DEFAULT_OFFSET); if (!cparamLT) exit(-1); // or handle by other means. </c> After this the original cparam is copied into the cparamLT structure, and may be accessed as cparamLT-\>param (or passed as a pointer with &cparamLT-\>param). Also, change kpmCreatHandle to kpmCreateHandle (spelling fix).   The new parameters structure uses a lookup-table and this results in a considerable speedup in some ARToolKit internal operations.

                kpmLoadRefDataSet, kpmMargeRefDataSet, kpmSetRefDataSet, kpmDeleteRefDataSet                                                                                                Remove entirely any NULL arguments to these function calls. Also, change kpmMargeRefDataSet to kpmMergeRefDataSet (spelling fix).                                                                                                                                                                                                                                                                                                                                                                                                                                                      These functions used to take AR2ImageSetT as an additional optional parameter, although this was not used in the public SDK and NULL was always passed for these arguments.

                kpmChangePageNoOfRefDataSet                                                                                                                                                 Add a second parameter, with either a default value of KpmChangePageNoAllPages, or a page number (to change only pages with that number).                                                                                                                                                                                                                                                                                                                                                                                                                                              It is now possible to change the page number of only a specific page within a larger set.

  iOS/Android   glStateCacheBeginAgain();                                                                                                                                                   glStateCacheFlush()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Improved naming.

  iOS/Android   glStateCacheVertexPtr() / glStateCacheTexCoorPtr() / glStateCacheNormalPtr()                                                                                                glVertexPointer / glTexCoordPointer / glNormalPointer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Moved the state set by these functions out of the cached state. They provided little performance improvement, and added a lot of complexity when using buffer objects.

  iOS           <objc>[self setCurrentContext];                                                                                                                                             Replace with <objc>[self clearBuffers];</objc>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Improved API for clearing only the enabled buffers (i.e. colour/depth/stencil).

                `   glBindFramebufferOES(GL_FRAMEBUFFER_OES, frameBuffer);`\
                `   glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT | (stencilFormat ? GL_STENCIL_BUFFER_BIT : 0u));`</objc>

  iOS           <objc>[cameraVideo -setTakeSnapshot:TRUE];</objc>                                                                                                                           <objc>[cameraVideo -takeSnapshot];</objc>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Improved naming of API.

  iOS           <objc>[cameraVideo -capturePhoto];</objc>                                                                                                                                   <objc>[cameraVideo -takePhoto];</objc>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Improved naming of API to avoid confusing request for an action (taking a high-resolution photo) with the regular frame capture.

  iOS           <objc>- (id) initWithFrame:(CGRect)frame pixelFormat:(NSString\*)format depthFormat:(GLuint)depth stencilFormat:(GLuint)stencil preserveBackbuffer:(BOOL)retained;</objc>   <objc>- (id) initWithFrame:(CGRect)frame pixelFormat:(NSString\*)format depthFormat:(EAGLDepthFormat)depth withStencil:(BOOL)stencil preserveBackbuffer:(BOOL)retained;</objc>                                                                                                                                                                                                                                                                                                                                                                                                         Support for OpenGL ES2 as well as OpenGL ES1 requires changes in the EAGLView external API, to remove dependencies on OpenGL types.
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

